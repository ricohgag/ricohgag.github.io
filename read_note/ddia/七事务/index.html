<!doctype html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.123.6"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="DDIA-Part7: 事务"><meta itemprop=description content="既然生于丛林，那就适应荆棘，enjoy，enjoy eveything, enjoy it."><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="/imgs/head.jpg"><meta itemprop=keywords content="intp, enjoy, push."><meta property="og:type" content="article"><meta property="og:title" content="DDIA-Part7: 事务"><meta property="og:description" content="既然生于丛林，那就适应荆棘，enjoy，enjoy eveything, enjoy it."><meta property="og:image" content="/imgs/head.jpg"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="/read_note/ddia/%E4%B8%83%E4%BA%8B%E5%8A%A1/"><meta property="og:site_name" content="ricohgag's blog"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="ricohgag"><meta property="article:published_time" content="2020-12-07 11:14:33 +0800 +0800"><meta property="article:modified_time" content="2020-12-07 11:14:33 +0800 +0800"><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css><link rel=stylesheet href=/css/main.min.13ee0ec29320772afa2bcd02dcc418cd6b99c20af99cd4ae166a9e26fbe018aa.css><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":false,"isHome":false,"isPage":true,"path":"%E4%B8%83%E4%BA%8B%E5%8A%A1","permalink":"/read_note/ddia/%E4%B8%83%E4%BA%8B%E5%8A%A1/","title":"DDIA-Part7: 事务","waline":{"js":[{"alias":"waline","alias_name":"@waline/client","file":"dist/pageview.js","name":"pageview","version":"2.13.0"},{"alias":"waline","alias_name":"@waline/client","file":"dist/comment.js","name":"comment","version":"2.13.0"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>DDIA-Part7: 事务 - ricohgag's blog</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>ricohgag's blog</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description></p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-read_note"><a href=/read_note/ class=hvr-icon-pulse rel=section><i class="fa fa-book-open-reader hvr-icon"></i>读书笔记</a></li><li class="menu-item menu-item-book_list"><a href=/book_list/ class=hvr-icon-pulse rel=section><i class="fa fa-book hvr-icon"></i>书单</a></li><li class="menu-item menu-item-about"><a href=/about/ class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#深入理解事务>深入理解事务</a><ul><li><ul><li><a href=#acid的含义>ACID的含义</a></li><li><a href=#单对象和多对象事务操作>单对象和多对象事务操作</a></li></ul></li></ul></li><li><a href=#隔离级别>隔离级别</a><ul><li><ul><li><a href=#未提交读>未提交读</a></li><li><a href=#提交读>提交读</a></li><li><a href=#快照级别隔离和可重复读>快照级别隔离和可重复读</a></li><li><a href=#可串行化>可串行化</a></li></ul></li></ul></li><li><a href=#两阶段加锁>两阶段加锁</a><ul><li><ul><li><a href=#实现两阶段加锁>实现两阶段加锁</a></li><li><a href=#意向锁>意向锁</a></li><li><a href=#索引区间锁>索引区间锁</a></li></ul></li></ul></li><li><a href=#可串型化的快照隔离ssi>可串型化的快照隔离（SSI）</a><ul><li><ul><li><a href=#悲观锁和乐观锁>悲观锁和乐观锁</a></li></ul></li></ul></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=ricohgag src=/imgs/img-lazy-loading.gif data-src=/imgs/head.jpg><p class=site-author-name itemprop=name>ricohgag</p><div class=site-description itemprop=description>既然生于丛林，那就适应荆棘，enjoy，enjoy eveything, enjoy it.</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>1</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>0</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>0</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/ricohgag title="Github → https://github.com/ricohgag" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate=2024-02-29T16:49:02+08:00></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=6></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=1></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate=2024-02-29T16:49:02+08:00></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-gtranslate class=button title=多语言翻译><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/ricohgag rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg>
</a><script type=text/javascript src=//sidecar.gitter.im/dist/sidecar.v1.js async></script><script type=text/javascript>((window.gitter={}).chat={}).options={room:"ricohgag/ricohgag.github.io"}</script><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=/read_note/ddia/%E4%B8%83%E4%BA%8B%E5%8A%A1/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/head.jpg"><meta itemprop=name content="ricohgag"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ricohgag"><meta itemprop=description content="既然生于丛林，那就适应荆棘，enjoy，enjoy eveything, enjoy it."></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="DDIA-Part7: 事务"><meta itemprop=description content="事务指的是满足 ACID 特性的一组操作，事务中的读写是一个执行整体，要么整个成功提交，要么全部失败回滚。 深入理解事务 ACID的含义 原子性（Atomi"></span><header class=post-header><h1 class=post-title itemprop="name headline">DDIA-Part7: 事务
<a href=https://github.com/user-name/repo-name/tree/branch-name/subdirectory-name/read_note/DDIA/%e4%b8%83%e3%80%81%e4%ba%8b%e5%8a%a1.md rel="noopener external nofollow noreferrer" target=_blank class="exturl post-edit-link" title=编辑><i class="fa fa-pen-nib"></i></a></h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2020-12-07 11:14:33 +0800 +0800" itemprop="dateCreated datePublished" datetime="2020-12-07 11:14:33 +0800 +0800">2020-12-07</time></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="far fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>1269</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="far fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>3分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="far fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=busuanzi_value_page_pv data-path=/read_note/ddia/%E4%B8%83%E4%BA%8B%E5%8A%A1/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class="post-body autonumber" itemprop=articleBody><p>事务指的是满足 ACID 特性的一组操作，事务中的读写是一个执行整体，要么整个成功提交，要么全部失败回滚。</p><h2 id=深入理解事务>深入理解事务
<a class=header-anchor href=#%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3%e4%ba%8b%e5%8a%a1></a></h2><h4 id=acid的含义>ACID的含义
<a class=header-anchor href=#acid%e7%9a%84%e5%90%ab%e4%b9%89></a></h4><ul><li>原子性（Atomicity）</li></ul><p>事务被视为最小单元，事务的所有操作要么全部提交成功，要么全部回滚失败。</p><p>回滚可以用回滚日志（Undo Log）来实现，回滚日志记录着事务所执行的修改操作，在回滚时反向执行这些修改操作即可。</p><ul><li>一致性（Consistency）</li></ul><p>一致性主要指事务对数据有特定的预期状态，任何数据更改必须满足这些状态约束。（如银行转账，转入和转出应该保持平衡）</p><ul><li>隔离型（Isolation）</li></ul><p>并发执行多个事务时相互隔离，一个事务在最终提交前对其他事务是不可见的。</p><ul><li>持久性（Durability）</li></ul><p>事务提交后，事务做出的修改会持久化到本地磁盘而不用担心数据丢失。</p><h4 id=单对象和多对象事务操作>单对象和多对象事务操作
<a class=header-anchor href=#%e5%8d%95%e5%af%b9%e8%b1%a1%e5%92%8c%e5%a4%9a%e5%af%b9%e8%b1%a1%e4%ba%8b%e5%8a%a1%e6%93%8d%e4%bd%9c></a></h4><ul><li><p>单对象写入：单对象写入也同时满足原子性和隔离性。</p></li><li><p>多对象事务的必要性</p></li><li><p>处理错误与终止</p></li></ul><h2 id=隔离级别>隔离级别
<a class=header-anchor href=#%e9%9a%94%e7%a6%bb%e7%ba%a7%e5%88%ab></a></h2><h4 id=未提交读>未提交读
<a class=header-anchor href=#%e6%9c%aa%e6%8f%90%e4%ba%a4%e8%af%bb></a></h4><p>事务中的修改即使没有提交，对其他事务也是可见的。</p><h4 id=提交读>提交读
<a class=header-anchor href=#%e6%8f%90%e4%ba%a4%e8%af%bb></a></h4><p>一个事务只能读取已经提交的事务所做的修改，即一个事务所做的修改在提交之前对其他事务是不可见的。可以防止脏读，脏写。</p><h4 id=快照级别隔离和可重复读>快照级别隔离和可重复读
<a class=header-anchor href=#%e5%bf%ab%e7%85%a7%e7%ba%a7%e5%88%ab%e9%9a%94%e7%a6%bb%e5%92%8c%e5%8f%af%e9%87%8d%e5%a4%8d%e8%af%bb></a></h4><p>保证在同一个事务中多次读取同一数据结果是一样的。可以解决不可重复读问题。</p><ul><li>实现快照隔离</li></ul><p>使用多版本并发控制（MVCC），在 MVCC 中事务的修改操作（DELETE、INSERT、UPDATE）会为数据行新增一个版本快照。</p><p>用于实现提交读和可重复读两种级别。MVCC 规定只能读取已经提交的快照。当然一个事务可以读取自身未提交的快照，这不算是脏读。</p><ul><li>一致性快照的可见性原则</li></ul><p>当事务读取数据库时，通过事务id可以决定哪些对象可见，哪些不可见。</p><ul><li>索引与快照级别隔离</li></ul><ol><li><p>索引直接指向对象的所有版本，过滤对当前事务不可见的版本。</p></li><li><p>采用追加/写时复制技术，当需要更新时，不会修改现有页面，总是创建新的页面，让父节点指向新创建的节点。</p></li></ol><h4 id=可串行化>可串行化
<a class=header-anchor href=#%e5%8f%af%e4%b8%b2%e8%a1%8c%e5%8c%96></a></h4><p>强制事务串型执行，多个事务互不干扰，不会出现并发一致性问题。该隔离级别需要加锁实现，保证同一时间只有一个事务执行。</p><h2 id=两阶段加锁>两阶段加锁
<a class=header-anchor href=#%e4%b8%a4%e9%98%b6%e6%ae%b5%e5%8a%a0%e9%94%81></a></h2><h4 id=实现两阶段加锁>实现两阶段加锁
<a class=header-anchor href=#%e5%ae%9e%e7%8e%b0%e4%b8%a4%e9%98%b6%e6%ae%b5%e5%8a%a0%e9%94%81></a></h4><ul><li><p>一个事务对数据对象加了X锁，就可以对A读取和更新，期间其他事务不能对A加锁。</p></li><li><p>一个事务对数据对象加了S锁，其他事务只能对A加S锁，不能加X锁。</p></li></ul><h4 id=意向锁>意向锁
<a class=header-anchor href=#%e6%84%8f%e5%90%91%e9%94%81></a></h4><ul><li><p>任意 IS/IX 锁之间都是兼容的，因为它们只表示想要对表加锁，而不是真正加锁；</p></li><li><p>这里兼容关系针对的是表级锁，而表级的 IX 锁和行级的 X 锁兼容，两个事务可以对两个数据行加 X 锁。（事务 T1 想要对数据行 R1 加 X 锁，事务 T2 想要对同一个表的数据行 R2 加 X 锁，两个事务都需要对该表加 IX 锁，但是 IX 锁是兼容的，并且 IX 锁与行级的 X 锁也是兼容的，因此两个事务都能加锁成功，对同一个表中的两个数据行做修改。）</p></li></ul><h4 id=索引区间锁>索引区间锁
<a class=header-anchor href=#%e7%b4%a2%e5%bc%95%e5%8c%ba%e9%97%b4%e9%94%81></a></h4><p>索引区间锁将保护的对象扩大化，能够防止写倾斜和幻读问题。</p><h2 id=可串型化的快照隔离ssi>可串型化的快照隔离（SSI）
<a class=header-anchor href=#%e5%8f%af%e4%b8%b2%e5%9e%8b%e5%8c%96%e7%9a%84%e5%bf%ab%e7%85%a7%e9%9a%94%e7%a6%bbssi></a></h2><h4 id=悲观锁和乐观锁>悲观锁和乐观锁
<a class=header-anchor href=#%e6%82%b2%e8%a7%82%e9%94%81%e5%92%8c%e4%b9%90%e8%a7%82%e9%94%81></a></h4><p>两阶段加锁是悲观锁，串型执行是种极端悲观的选择。事务执行期间等价于事务对整个数据库都持有互斥锁。</p><p>可串型化的快照隔离则是一种乐观并发控制。如果可能发生冲突事务会继续执行，提交时确实发生冲突会终止事务并重试。</p></div><footer class=post-footer><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=reward-container><div><i class="fa-solid fa-mug-hot"></i>请我喝杯咖啡吧 ヾ(^▽^*)))</div><button>
赞赏</button><div class=post-reward><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/ali-pay.png alt="ricohgag - 支付宝">
<span>支付宝</span></div><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/wechat-pay.png alt="ricohgag - 微信">
<span>微信</span></div></div></div><div class=post-copyright><img src=/imgs/cc/cc.svg width=75 height=75 align=right alt=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
DDIA-Part7: 事务</li><li class=post-copyright-author><strong>本文作者： </strong>ricohgag</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=/read_note/ddia/%E4%B8%83%E4%BA%8B%E5%8A%A1/ title="DDIA-Part7: 事务">/read_note/ddia/%E4%B8%83%E4%BA%8B%E5%8A%A1/</a></li><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=/images/wechat_channel.jpg><span class=icon><i class="fab fa-weixin"></i>
</span><span class=label>WeChat</span></a></div><div class=social-item><a target=_blank class=social-link href=/atom.xml><span class=icon><i class="fa fa-rss"></i>
</span><span class=label>RSS</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/read_note/ddia/%E5%85%AB%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%8C%91%E6%88%98/ rel=next title="DDIA-Part8: 分布式系统挑战"><i class="fa fa-chevron-left"></i> DDIA-Part8: 分布式系统挑战</a></div><div class="post-nav-prev post-nav-item"><a href=/read_note/ddia/%E5%85%AD%E6%95%B0%E6%8D%AE%E5%88%86%E5%8C%BA/ rel=prev title="DDIA-Part6: 数据分区">DDIA-Part6: 数据分区
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div id=gtranslate class=google-translate><i class="fa fa-language"></i><div id=google_translate_element></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2010 - 2024
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>ricohgag</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.123.6 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.5.3 target=_blank>Hugo NexT.Mist</a> 强力驱动</div></div></footer><script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script><script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":false,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":true,"plugin":"waline"},"views":{"enable":true,"plugin":"busuanzi"}},"root":"/","scheme":"Mist","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.5.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":null,"sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"waline","file":"dist/waline.css","name":"@waline/client","version":"2.13.0"},"js":{"alias":"waline","file":"dist/waline.js","name":"@waline/client","version":"2.13.0"}}}</script><script type=text/javascript src=/js/main.min.b0c78e5a4df586ee46d02716ffa91a4a322e56763e04e91eb2ba052c9469ed02.js defer></script></body></html>